---
Author: Thomas Verliefde
Date: '2019-04-08'
Output: html_document
Title: Analyses AmbDiff
editor_options:
  chunk_output_type: console
version: '0.1'
---

TODO: Check all variables whether they are what they should be (factor, numeric, ...)
TODO: Additional analysis with control variables (keyfirst, otherfirst, gender, ...)

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
# load("20190319.RData")
```

```{r libraries, include=FALSE}
lapply(
  c("plyr","dplyr","tidyr","ggplot2","readxl","readr","lme4","afex","lmerTest",
    "emmeans","purrr","magrittr","cowplot"),
  require,
  character.only = T
)
```

##################
# Data Wrangling #
##################

```{r import, options}

temp <- tempdir()
df_raw <- "Data_AmbDiff.zip" %>% {
  ldply(
    .data = unzip(.,list=T) %>%
      arrange(Date) %$%
      grep("(.csv)$",Name,value=TRUE),
    .fun = function(x) unzip(.,files=x,exdir=temp) %>%
      read_csv
  )
}
rm(temp)

```

```{r !, options}

seq(1,80) %in% df_raw$Subject %>% not %>% which
"Data_AmbDiff.zip" %>% unzip(list=T) %>% arrange(Date) %>%
  filter(grepl("(.csv)$",.$Name)) %>% extract(44:50,)

```

Participant 48's data is missing ...

Comments from during data collection:
*Subject 20 was remarkably quick
*Subject 44 stated to already know the experiment
*Subject 59 stated to already know the experiment
*Subject 60 had to restart the experiment once